% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/exporting-data.R
\name{export_genome_occupancy,ribotrans-method}
\alias{export_genome_occupancy,ribotrans-method}
\title{Export Ribosome Footprint Data as BigWig}
\usage{
\S4method{export_genome_occupancy}{ribotrans}(
  object,
  genome_file = NULL,
  output_path = "./",
  do_reads_offset = FALSE,
  shift = 0
)
}
\arguments{
\item{object}{A \strong{\code{ribotrans}} object containing Ribo-Seq experimental data.}

\item{genome_file}{A \strong{character string} specifying the path to a \strong{FASTA file}
containing reference genome sequences.}

\item{output_path}{A \strong{character string} specifying the output directory for BigWig files
(default: \code{"./"}).}

\item{do_reads_offset}{Logical; if \code{TRUE}, applies \strong{E/P/A-site offset correction}
using metadata in \code{object@reads_offset_info} (default: \code{FALSE}).}

\item{shift}{Integer defining the \strong{offset shift} applied to read positions. \strong{Default}: \code{0}.}
}
\value{
\itemize{
\item \strong{BigWig files (.bw)} are saved in the \code{output_path} directory.
\item A \strong{confirmation message} is printed upon completion.
}
}
\description{
This method extracts \strong{ribosome footprint occupancy data from BAM files}
and exports it as \strong{BigWig (.bw) format}, supporting \strong{P-site offset correction}
and \strong{RPM normalization}.
}
\details{
This method reads Ribo-Seq data from BAM files, extracts \strong{read occupancy},
applies optional \strong{P-site offset correction}, and \strong{normalizes data} in \strong{RPM (Reads Per Million)}.
Finally, it exports the processed data as \strong{BigWig (.bw) format} for genome-wide visualization.

\strong{Steps:}
\enumerate{
\item Extract \strong{mapped reads} from BAM files.
\item Assign \strong{E/P/A-site positions} based on strand and fragment length.
\item Apply \strong{normalization} and \strong{offset correction} (if enabled).
\item Save data in \strong{BigWig (bw) format}.
}

⚠️ \strong{Note:} If \code{object@mapping_type != "transcriptome"}, an error is returned.
}
\note{
Requires \code{rtracklayer}, \code{purrr}, and \code{GenomicRanges} packages.
}
\examples{
\dontrun{
ribo_obj <- load_ribotrans("ribo_data.rds")

# Export BigWig files (without offset correction)
export_genome_occupancy(ribo_obj, genome_file = "reference.fa",
                        output_path = "bw_output/", do_reads_offset = FALSE)

# Apply E/P/A-site offset correction before exporting
export_genome_occupancy(ribo_obj, genome_file = "reference.fa",
                        output_path = "bw_output/", do_reads_offset = TRUE)
}

}
\seealso{
\itemize{
\item \code{getOccupancyGenome()} for extracting genome-wide ribosome occupancy.
\item \code{rtracklayer::export.bw()} for exporting BigWig files.
}
}
