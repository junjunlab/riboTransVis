% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/generic-methods.R
\name{generate_summary}
\alias{generate_summary}
\alias{generate_summary,ribotrans-method}
\title{Generate Summary Information from BAM Files}
\usage{
generate_summary(object, ...)

\S4method{generate_summary}{ribotrans}(
  object,
  exp_type = c("ribo", "rna", "total", "ip"),
  load_local = FALSE,
  nThreads = 1
)
}
\arguments{
\item{object}{A \code{ribotrans} S4 object that contains experiment library information, features, and settings such as mapping type.}

\item{...}{Additional arguments (currently unused).}

\item{exp_type}{Character vector specifying experiment types to include. Options are \code{"ribo"}, \code{"rna"}, \code{"total"}, \code{"ip"}.}

\item{load_local}{Logical; if \code{TRUE}, tries to load precomputed summary data \code{tinfo.anno.rda} from local directory.}

\item{nThreads}{Integer; number of threads to use when reading BAM files. Passed to \code{Rsamtools::scanBam}.}
}
\value{
A modified \code{ribotrans} object with the slot \code{summary_info} populated with annotated read counts.
}
\description{
This method processes ribosome profiling BAM files and generates positional read count data (footprints)
across annotated features. It supports multiple experiment types (such as ribosome footprints, RNA-seq, total RNA, and IP).
Mapping positions are adjusted based on user-defined assignment mode (5'-end or 3'-end), and if genome mapping is used,
reads are converted to transcriptomic coordinates.
}
\details{
If \code{exp_type} includes both \code{"total"} and \code{"ip"}, the \code{sample} and \code{sample_group} columns are suffixed
with the experiment type to differentiate datasets.

For genome-mapped data, genomic coordinates are translated to transcriptomic positions using a transcript feature annotation table
provided in \code{object@genome_trans_features}. If not genome-mapped, data are grouped and summarized directly by transcript ID and position.

If \code{load_local = FALSE}, coverage information is read from BAM files and annotated against the transcript features.
Data is summarized and merged with transcript metadata (like CDS start and stop).
The result is saved as \code{tinfo.anno.rda} in the working directory for future reuse.
}
\examples{
\dontrun{
object <- generate_summary(object, exp_type = c("ribo", "rna"), load_local = FALSE)
}

}
